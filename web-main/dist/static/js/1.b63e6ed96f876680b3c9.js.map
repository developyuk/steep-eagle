{"version":3,"sources":["webpack:///static/js/1.b63e6ed96f876680b3c9.js","webpack:///src/pages/Students.vue","webpack:///./src/pages/Students.vue?a1f8","webpack:///./src/pages/Students.vue?5608","webpack:///./src/pages/Students.vue?551c","webpack:///./src/pages/Students.vue"],"names":["webpackJsonp","188","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","name","components","spinner","e","then","bind","tab-bottom","header1","form-rate-review","empty","data","msg","students","sessions","currentAuth","currentView","lastId","methods","onClickList","$el","target","closest","nextSibling","console","log","sid","uid","is","getAttribute","this","split","$set","getStudentsSessions","_this","url","id","a","get","response","_embedded","forEach","v","i","v2","i2","a2","user_id","image","replace","catch","error","mounted","_this2","$bus","$on","auth","resp","218","exports","content","locals","219","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","256","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_e","length","src","_m","_l","_v","_s","class","branch","start_at","finish_at","vv","ii","on","click","$event","photo","tag","staticRenderFns","esExports","45","injectStyle","ssrContext","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Students_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cd2b2f14_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Students_vue__","normalizeComponent","__vue_styles__","Component"],"mappings":"AAAAA,cAAc,IAERC,IACA,SAAUC,EAAQC,EAAqBC,GAE7C,YACqB,IAAIC,GAAsCD,EAAoB,IAC1DE,EAA8CF,EAAoBG,EAAEF,EA+BhEF,GAAuB,GAClDK,KCPF,WDQEC,YACEC,QAAW,WACT,MAAON,GAAoBO,EAAgB,GAAkBC,KAAKR,EAAoBS,KAAK,KAAM,OAEnGC,aAAc,WACZ,MAAOV,GAAoBO,EAAgB,GAAkBC,KAAKR,EAAoBS,KAAK,KAAM,OAEnGE,QAAW,WACT,MAAOX,GAAoBO,EAAgB,GAAkBC,KAAKR,EAAoBS,KAAK,KAAM,OAEnGG,mBAAoB,WAClB,MAAOZ,GAAoBO,EAAgB,GAAGC,KAAKR,EAAoBS,KAAK,KAAM,OAEpFI,MAAS,WACP,MAAOb,GAAoBO,EAAgB,GAAGC,KAAKR,EAAoBS,KAAK,KAAM,QAGtFK,KAAM,WACJ,OACEC,ICjBN,6BDkBMC,YACAC,SCjBN,GDkBMC,YCjBN,KDkBMC,eAEAC,OChBN,KDoBEC,SACEC,YAAa,SAAqBf,GAChC,GAAIgB,GAAMhB,EAAEiB,OAAOC,QAAQ,kBAAkBC,YClBnDA,WDmBMC,SAAQC,IAAI,UClBlBL,EDmBM,IClBNM,OAAA,GACAC,MAAA,GDmBUC,EAAKR,EAAIS,aClBnB,KDmBM,IAAIC,KAAKb,OClBf,CDmBQ,GAAIA,GAASa,KAAKb,OAAOc,MClBjC,IDmBQL,GAAMT,EClBd,GDmBQU,EAAMV,EClBd,GDmBQa,KAAKE,KAAKF,KAAKd,YAAYU,GAAMC,EClBzC,SDoBMD,EAAMN,EAAIS,aClBhB,ODmBMF,EAAMP,EAAIS,aClBhB,ODmBiB,UAAPD,IACFE,KAAKE,KAAKF,KAAKd,YAAYU,GAAMC,EClBzC,oBDmBQG,KAAKb,OAASS,EAAM,IClB5BC,GDoBMH,QAAQC,IAAI,UAAWC,EAAKC,EAAKG,KAAKb,SAKxCgB,oBAAqB,WClBzB,GAAAC,GAAAJ,KDqBUK,EAAM,kCAAyCL,KAAKf,YCpB9DqB,GAAA,WDqBMrC,GAA4CsC,EAAEC,ICpBpDH,GAAA9B,KAAA,SAAAkC,GDqBQL,EAAMpB,SAAWyB,EAAS5B,KCnBlC6B,SDoBQ,IAAIxB,KACJkB,GAAMpB,SAAS2B,QAAQ,SAAUC,EAAGC,EAAGN,GACrCK,EAAa,UAAS,MAAa,UAAY,SAAED,QAAQ,SAAUG,EAAIC,EAAIC,GACzEtB,QAAQC,ICnBpBmB,GDoBiB5B,EAAY0B,EAAEN,MACjBpB,EAAY0B,EAAEN,QAEhBpB,EAAY0B,EAAEN,IAAIQ,EAAGG,SClBjC,ODoBY,IAAIC,GAAUJ,EAAU,MAAIA,EAAU,MCnBlD,yDDoBYI,GAAQA,EAAMC,QAAQ,WAAY,IAAIA,QAAQ,UCnB1D,IDoBYD,EAAQ,kECnBpBA,EDoBYd,EAAMF,KAAKK,EAAEM,GAAc,UAAS,MAAa,UAAY,SAAEE,GAAK,QCnBhFG,ODsBQd,EAAMlB,YClBdA,IACAkC,MAAA,SAAAC,GDmBQ,MAAO3B,SAAQC,IChBvB0B,ODoBEC,QAAS,WCjBX,GAAAC,GAAAvB,IDoBIA,MAAKwB,KAAKC,IAAI,cAAe,SAAUC,GAErCH,EAAOtC,YCnBbyC,EDoBMH,ECnBNpB,wBDqBIH,KAAKwB,KAAKC,IAAI,0BAA2B,SAAUE,GACjDJ,ECnBNpB,2BD0BMyB,IACA,SAAU/D,EAAQgE,EAAS9D,GEtIjC,GAAA+D,GAAA/D,EAAA,IACA,iBAAA+D,SAAAjE,EAAAgD,EAAAiB,EAAA,MACAA,EAAAC,SAAAlE,EAAAgE,QAAAC,EAAAC,OAEAhE,GAAA,eAAA+D,GAAA,OF+IME,IACA,SAAUnE,EAAQgE,EAAS9D,GGvJjC8D,EAAAhE,EAAAgE,QAAA9D,EAAA,QAKA8D,EAAAI,MAAApE,EAAAgD,EAAA,8wBAAqyB,IAAQqB,QAAA,EAAAC,SAAA,yDAAAC,SAAAC,SAAA,uUAAAC,KAAA,eAAAC,gBAAA,47BAA44CC,WAAA,OHgKnrEC,IACA,SAAU5E,EAAQC,EAAqBC,GAE7C,YIxKA,IAAA2E,GAAA,WAA0B,GAAAC,GAAA3C,KAAa4C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,OAAiBE,YAAA,iBAAAC,OAAoC3C,GAAA,cAAiBwC,EAAA,WAAAH,EAAA3D,SAAA2D,EAAAO,KAAAJ,EAAA,WAAAH,EAAA3D,WAAA2D,EAAA3D,SAAAmE,OAAAL,EAAA,OAA0GE,YAAA,UAAoBF,EAAA,OAAYG,OAAOG,IAAA,gGAAoGT,EAAAU,GAAA,KAAAV,EAAAO,KAAAJ,EAAA,OAAiCE,YAAA,mBAA6BL,EAAAW,GAAAX,EAAA,kBAAA/B,EAAAC,GAAsC,OAAAiC,EAAA,MAAiBE,YAAA,8BAAwCF,EAAA,QAAaE,YAAA,WAAqBL,EAAAY,GAAAZ,EAAAa,GAAA5C,EAAAF,UAAA+C,MAAA/C,UAAA7C,OAAAM,SAAAwE,EAAAY,GAAA,OAAAT,EAAA,QAAqFE,YAAA,WAAqBL,EAAAY,GAAAZ,EAAAa,GAAA5C,EAAAF,UAAA+C,MAAA/C,UAAAgD,OAAAvF,SAAAwE,EAAAY,GAAA,MAAAT,EAAA,QAAoFE,YAAA,aAAuBL,EAAAY,GAAAZ,EAAAa,GAAA5C,EAAAF,UAAA+C,MAAAE,UAAA,MAAAhB,EAAAa,GAAA5C,EAAAF,UAAA+C,MAAAG,gBAAAd,EAAA,MAAoGE,YAAA,aAAuBL,EAAAW,GAAA1C,EAAAF,UAAA+C,MAAA/C,UAAA,kBAAAmD,EAAAC,GAAgE,OAAAhB,EAAA,MAAiBE,YAAA,gBAAAe,IAAgCC,MAAA,SAAAC,GAAyBtB,EAAAtD,YAAA4E,OAA0BnB,EAAA,OAAYE,YAAA,2BAAqCF,EAAA,OAAYG,OAAOG,IAAAS,EAAAK,WAAgBpB,EAAA,QAAeE,YAAA,wBAAkCL,EAAAY,GAAAZ,EAAAa,GAAAK,EAAA1F,WAAA2E,EAAA,MAAuCE,YAAA,qBAA+BF,EAAAH,EAAAzD,YAAA,GAAA0B,EAAA,OAAAiD,EAAA,UAA0DM,IAAA,YAAAlB,OAAuBrD,IAAAgB,EAAAN,GAAAT,IAAAgE,EAAA5C,QAAA9C,KAAA0F,EAAA1F,YAA+C,OAAO,GAAA2E,EAAA,mBACz5CsB,GAAA,WAAoC,GAAAzB,GAAA3C,KAAa4C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAAwB,OAAAE,GAAA,KAAAH,EAAAY,GAAA,4BAAAT,EAAA,MAAAH,EAAAY,GAAA,0DACnGc,GAAiB3B,SAAA0B,kBACjBtG,GAAA,KJ6KMwG,GACA,SAAUzG,EAAQC,EAAqBC,GAE7C,YKnLA,SAAAwG,GAAAC,GACAzG,EAAA,KLmLA0G,OAAOC,eAAe5G,EAAqB,cAAgB6G,OAAO,GAC7C,IAAIC,GAAoH7G,EAAoB,KKrLjK8G,EAAA9G,EAAA,KAGA+G,EAAA/G,EAAA,IASAgH,EAAAR,EAKAS,EAAAF,EACAF,EAAA,EACAC,EAAA,GATA,EAWAE,EAPA,kBAEA,KAUAjH,GAAA,QAAAkH,EAAA","file":"static/js/1.b63e6ed96f876680b3c9.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 188:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'students',\n  components: {\n    'spinner': function spinner() {\n      return __webpack_require__.e/* import() */(6/* duplicate */).then(__webpack_require__.bind(null, 182));\n    },\n    'tab-bottom': function tabBottom() {\n      return __webpack_require__.e/* import() */(5/* duplicate */).then(__webpack_require__.bind(null, 184));\n    },\n    'header1': function header1() {\n      return __webpack_require__.e/* import() */(7/* duplicate */).then(__webpack_require__.bind(null, 186));\n    },\n    'form-rate-review': function formRateReview() {\n      return __webpack_require__.e/* import() */(8).then(__webpack_require__.bind(null, 220));\n    },\n    'empty': function empty() {\n      return __webpack_require__.e/* import() */(9).then(__webpack_require__.bind(null, 252));\n    }\n  },\n  data: function data() {\n    return {\n      msg: 'Welcome to Your Vue.js PWA',\n      students: [],\n      sessions: '',\n      currentAuth: null,\n      currentView: {},\n\n      lastId: ''\n    };\n  },\n\n  methods: {\n    onClickList: function onClickList(e) {\n      var $el = e.target.closest('.mdc-list-item').nextSibling.nextSibling;\n      console.log('clicked', $el);\n      var sid = void 0;\n      var uid = void 0;\n      var is = $el.getAttribute('id');\n      if (this.lastId) {\n        var lastId = this.lastId.split('-');\n        sid = lastId[0];\n        uid = lastId[1];\n        this.$set(this.currentView[sid], uid, 'empty');\n      }\n      sid = $el.getAttribute('sid');\n      uid = $el.getAttribute('uid');\n      if (is === 'empty') {\n        this.$set(this.currentView[sid], uid, 'form-rate-review');\n        this.lastId = sid + '-' + uid;\n      }\n      console.log('clicked', sid, uid, this.lastId);\n      //        else {\n      //        }\n      //        this.currentView[sid][uid] = 'form-rate-review';\n    },\n    getStudentsSessions: function getStudentsSessions() {\n      var _this = this;\n\n      var url = \"http://35.187.229.48:81\" + '/tutors/' + this.currentAuth.id + '/sessions';\n      __WEBPACK_IMPORTED_MODULE_0_axios___default.a.get(url).then(function (response) {\n        _this.sessions = response.data._embedded;\n        var currentView = [];\n        _this.sessions.forEach(function (v, i, a) {\n          v['_embedded']['class']['_embedded']['students'].forEach(function (v2, i2, a2) {\n            console.log(v2);\n            if (!currentView[v.id]) {\n              currentView[v.id] = [];\n            }\n            currentView[v.id][v2.user_id] = 'empty';\n\n            var image = !!v2['photo'] ? v2['photo'] : 'https://image.flaticon.com/icons/png/128/201/201818.png';\n            image = image.replace('https://', '').replace('http://', '');\n            image = '//images.weserv.nl/?output=png&il&q=100&w=96&h=96&t=square&url=' + image;\n            _this.$set(a[i]['_embedded']['class']['_embedded']['students'][i2], 'photo', image);\n          });\n        });\n        _this.currentView = currentView;\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$bus.$on('currentAuth', function (auth) {\n      //        console.log(auth);\n      _this2.currentAuth = auth;\n      _this2.getStudentsSessions();\n    });\n    this.$bus.$on('onAfterSubmitRateReview', function (resp) {\n      _this2.getStudentsSessions();\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 218:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(219);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(43)(\"27438009\", content, true, {});\n\n/***/ }),\n\n/***/ 219:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(42)(true);\n// imports\n\n\n// module\nexports.push([module.i, \"#students[data-v-cd2b2f14]{position:relative;height:100vh}#form-rate-review[data-v-cd2b2f14]{-webkit-transition:height .3s cubic-bezier(0,0,.2,1) 0ms;transition:height .3s cubic-bezier(0,0,.2,1) 0ms}.empty[data-v-cd2b2f14]{text-align:center;position:absolute;top:50%;-webkit-transform:translateY(-70%);transform:translateY(-70%);width:100%}.mdc-list-item[data-v-cd2b2f14]{padding:.5rem 1rem;background-color:#fff;z-index:2}.mdc-list-item__text[data-v-cd2b2f14]{text-transform:capitalize}.mdc-list-item__graphic[data-v-cd2b2f14],.mdc-list-item__graphic img[data-v-cd2b2f14]{width:40px;height:40px}span.module[data-v-cd2b2f14]{text-transform:uppercase}span.branch[data-v-cd2b2f14],span.day-time[data-v-cd2b2f14]{text-transform:capitalize}span.day-time[data-v-cd2b2f14]{float:right}\", \"\", {\"version\":3,\"sources\":[\"/mnt/data/steep-eagle/web-main/src/pages/Students.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,kBAAmB,AACnB,YAAc,CACf,AACD,mCACE,yDAAgE,AAChE,gDAAwD,CACzD,AACD,wBACE,kBAAmB,AACnB,kBAAmB,AACnB,QAAS,AACT,mCAAoC,AAC5B,2BAA4B,AACpC,UAAY,CACb,AACD,gCACE,mBAAoB,AACpB,sBAAuB,AACvB,SAAW,CACZ,AACD,sCACE,yBAA2B,CAC5B,AACD,sFACE,WAAY,AACZ,WAAa,CACd,AACD,6BACE,wBAA0B,CAC3B,AACD,4DACE,yBAA2B,CAC5B,AACD,+BACE,WAAa,CACd\",\"file\":\"Students.vue\",\"sourcesContent\":[\"\\n#students[data-v-cd2b2f14] {\\n  position: relative;\\n  height: 100vh;\\n}\\n#form-rate-review[data-v-cd2b2f14] {\\n  -webkit-transition: height 300ms 0ms cubic-bezier(0, 0, 0.2, 1);\\n  transition: height 300ms 0ms cubic-bezier(0, 0, 0.2, 1);\\n}\\n.empty[data-v-cd2b2f14] {\\n  text-align: center;\\n  position: absolute;\\n  top: 50%;\\n  -webkit-transform: translateY(-70%);\\n          transform: translateY(-70%);\\n  width: 100%;\\n}\\n.mdc-list-item[data-v-cd2b2f14] {\\n  padding: .5rem 1rem;\\n  background-color: #fff;\\n  z-index: 2;\\n}\\n.mdc-list-item__text[data-v-cd2b2f14] {\\n  text-transform: capitalize;\\n}\\n.mdc-list-item__graphic[data-v-cd2b2f14], .mdc-list-item__graphic img[data-v-cd2b2f14] {\\n  width: 40px;\\n  height: 40px;\\n}\\nspan.module[data-v-cd2b2f14] {\\n  text-transform: uppercase;\\n}\\nspan.branch[data-v-cd2b2f14], span.day-time[data-v-cd2b2f14] {\\n  text-transform: capitalize;\\n}\\nspan.day-time[data-v-cd2b2f14] {\\n  float: right;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 256:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mdc-typography\",attrs:{\"id\":\"students\"}},[_c('header1'),(!_vm.sessions)?_c('spinner'):_vm._e(),(!!_vm.sessions && !_vm.sessions.length)?_c('div',{staticClass:\"empty\"},[_c('img',{attrs:{\"src\":\"https://images.weserv.nl/?w=300&url=dl.dropboxusercontent.com/s/6wrsi1smelwdhj7/face-2.png\"}}),_vm._m(0)]):_vm._e(),_c('div',{staticClass:\"mdc-list-group\"},[_vm._l((_vm.sessions),function(v,i){return [_c('h3',{staticClass:\"mdc-list-group__subheader\"},[_c('span',{staticClass:\"module\"},[_vm._v(_vm._s(v._embedded.class._embedded.module.name))]),_vm._v(\" - \"),_c('span',{staticClass:\"branch\"},[_vm._v(_vm._s(v._embedded.class._embedded.branch.name))]),_vm._v(\"  \"),_c('span',{staticClass:\"day-time\"},[_vm._v(_vm._s(v._embedded.class.start_at)+\" - \"+_vm._s(v._embedded.class.finish_at))])]),_c('ul',{staticClass:\"mdc-list\"},[_vm._l((v._embedded.class._embedded.students),function(vv,ii){return [_c('li',{staticClass:\"mdc-list-item\",on:{\"click\":function($event){_vm.onClickList($event)}}},[_c('div',{staticClass:\"mdc-list-item__graphic\"},[_c('img',{attrs:{\"src\":vv.photo}})]),_c('span',{staticClass:\"mdc-list-item__text\"},[_vm._v(_vm._s(vv.name))])]),_c('hr',{staticClass:\"mdc-list-divider\"}),_c(_vm.currentView[(\"\" + (v.id))][(\"\" + (vv.user_id))],{tag:\"component\",attrs:{\"sid\":v.id,\"uid\":vv.user_id,\"name\":vv.name}})]})],2)]})],2),_c('tab-bottom')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"It’s holiday time, man! \"),_c('br'),_vm._v(\"Pls enjoy yout time by being away from your phone.\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Students_vue__ = __webpack_require__(188);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cd2b2f14_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Students_vue__ = __webpack_require__(256);\nfunction injectStyle (ssrContext) {\n  __webpack_require__(218)\n}\nvar normalizeComponent = __webpack_require__(11)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cd2b2f14\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Students_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_cd2b2f14_hasScoped_true_transformToRequire_video_src_poster_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_template_compiler_preprocessor_engine_pug_node_modules_vue_loader_lib_selector_type_template_index_0_Students_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/1.b63e6ed96f876680b3c9.js","<template lang=\"pug\">\n  #students.mdc-typography\n    header1\n    spinner(v-if=\"!sessions\")\n    .empty(v-if=\"!!sessions && !sessions.length\")\n      img(src=\"https://images.weserv.nl/?w=300&url=dl.dropboxusercontent.com/s/6wrsi1smelwdhj7/face-2.png\")\n      p It’s holiday time, man! #[br]Pls enjoy yout time by being away from your phone.\n    .mdc-list-group\n      template(v-for=\"(v,i) in sessions\")\n        h3.mdc-list-group__subheader\n          span.module {{v._embedded.class._embedded.module.name}}\n          | &nbsp;-&nbsp;\n          span.branch {{v._embedded.class._embedded.branch.name}}\n          | &nbsp;&nbsp;\n          span.day-time {{v._embedded.class.start_at}} - {{v._embedded.class.finish_at}}\n        ul.mdc-list\n          template(v-for=\"(vv,ii) in v._embedded.class._embedded.students\")\n            li.mdc-list-item(@click=\"onClickList($event)\")\n              .mdc-list-item__graphic\n                img(':src'=\"vv.photo\")\n              span.mdc-list-item__text {{vv.name}}\n                //span.mdc-list-item__secondary-text {{v._embedded.class.day}} {{v._embedded.class.time}}\n            hr.mdc-list-divider\n            component(:is=\"currentView[`${v.id}`][`${vv.user_id}`]\" :sid=\"v.id\" :uid=\"vv.user_id\"  :name=\"vv.name\")\n    tab-bottom\n</template>\n\n<script>\n  import axios from 'axios';\n\n  export default {\n    name: 'students',\n    components: {\n      'spinner': () => import('@/components/Spinner'),\n      'tab-bottom': () => import('@/components/TabBottom'),\n      'header1': () => import('@/components/Header'),\n      'form-rate-review': () => import('@/components/FormRateReview'),\n      'empty': () => import('@/components/Empty')\n    },\n    data() {\n      return {\n        msg: 'Welcome to Your Vue.js PWA',\n        students: [],\n        sessions: '',\n        currentAuth: null,\n        currentView: {},\n\n        lastId: ''\n      }\n    },\n    methods: {\n      onClickList(e) {\n        const $el = e.target.closest('.mdc-list-item').nextSibling.nextSibling;\n        console.log('clicked', $el);\n        let sid;\n        let uid;\n        const is = $el.getAttribute('id');\n        if (this.lastId) {\n          const lastId = this.lastId.split('-');\n          sid = lastId[0];\n          uid = lastId[1];\n          this.$set(this.currentView[sid], uid, 'empty');\n        }\n        sid = $el.getAttribute('sid');\n        uid = $el.getAttribute('uid');\n        if (is === 'empty') {\n          this.$set(this.currentView[sid], uid, 'form-rate-review');\n          this.lastId = `${sid}-${uid}`\n        }\n        console.log('clicked', sid, uid, this.lastId);\n//        else {\n//        }\n//        this.currentView[sid][uid] = 'form-rate-review';\n      },\n      getStudentsSessions() {\n        const url = `${process.env.API}/tutors/${this.currentAuth.id}/sessions`;\n        axios.get(url)\n          .then(response => {\n            this.sessions = response.data._embedded;\n            const currentView = [];\n            this.sessions.forEach((v, i, a) => {\n              v['_embedded']['class']['_embedded']['students'].forEach((v2, i2, a2) => {\n                console.log(v2);\n                if (!currentView[v.id]) {\n                  currentView[v.id] = [];\n                }\n                currentView[v.id][v2.user_id] = 'empty';\n\n                let image = !!v2['photo'] ? v2['photo'] : 'https://image.flaticon.com/icons/png/128/201/201818.png';\n                image = image.replace('https://', '').replace('http://', '');\n                image = `//images.weserv.nl/?output=png&il&q=100&w=96&h=96&t=square&url=${image}`;\n                this.$set(a[i]['_embedded']['class']['_embedded']['students'][i2], 'photo', image);\n              });\n\n            });\n            this.currentView = currentView;\n          })\n          .catch(error => console.log(error));\n\n\n      }\n    },\n    mounted() {\n      this.$bus.$on('currentAuth', (auth) => {\n//        console.log(auth);\n        this.currentAuth = auth;\n        this.getStudentsSessions();\n      });\n      this.$bus.$on('onAfterSubmitRateReview', (resp) => {\n        this.getStudentsSessions();\n      });\n    }\n  }\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n  @import \"@material/animation/functions\";\n\n  #students {\n    position: relative;\n    height: 100vh;\n  }\n\n  #form-rate-review {\n    transition: mdc-animation-enter(height, 300ms);\n  }\n\n  .empty {\n    text-align: center;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-70%);\n    width: 100%;\n  }\n\n  .mdc-list-item {\n    padding: .5rem 1rem;\n    background-color: #fff;\n    z-index: 2;\n  }\n\n  .mdc-list-item__text {\n    text-transform: capitalize;\n  }\n\n  .mdc-list-item__graphic {\n    &, img {\n      width: 40px;\n      height: 40px;\n    }\n  }\n\n  span.module {\n    text-transform: uppercase;\n  }\n\n  span.branch, span.day-time {\n    text-transform: capitalize;\n  }\n\n  span.day-time {\n    float: right;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/Students.vue","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cd2b2f14\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/sass-loader/lib/loader.js?{\\\"includePaths\\\":[\\\"/mnt/data/steep-eagle/web-main/node_modules\\\"],\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Students.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"27438009\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-cd2b2f14\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"includePaths\":[\"/mnt/data/steep-eagle/web-main/node_modules\"],\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/Students.vue\n// module id = 218\n// module chunks = 1","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"#students[data-v-cd2b2f14]{position:relative;height:100vh}#form-rate-review[data-v-cd2b2f14]{-webkit-transition:height .3s cubic-bezier(0,0,.2,1) 0ms;transition:height .3s cubic-bezier(0,0,.2,1) 0ms}.empty[data-v-cd2b2f14]{text-align:center;position:absolute;top:50%;-webkit-transform:translateY(-70%);transform:translateY(-70%);width:100%}.mdc-list-item[data-v-cd2b2f14]{padding:.5rem 1rem;background-color:#fff;z-index:2}.mdc-list-item__text[data-v-cd2b2f14]{text-transform:capitalize}.mdc-list-item__graphic[data-v-cd2b2f14],.mdc-list-item__graphic img[data-v-cd2b2f14]{width:40px;height:40px}span.module[data-v-cd2b2f14]{text-transform:uppercase}span.branch[data-v-cd2b2f14],span.day-time[data-v-cd2b2f14]{text-transform:capitalize}span.day-time[data-v-cd2b2f14]{float:right}\", \"\", {\"version\":3,\"sources\":[\"/mnt/data/steep-eagle/web-main/src/pages/Students.vue\"],\"names\":[],\"mappings\":\"AACA,2BACE,kBAAmB,AACnB,YAAc,CACf,AACD,mCACE,yDAAgE,AAChE,gDAAwD,CACzD,AACD,wBACE,kBAAmB,AACnB,kBAAmB,AACnB,QAAS,AACT,mCAAoC,AAC5B,2BAA4B,AACpC,UAAY,CACb,AACD,gCACE,mBAAoB,AACpB,sBAAuB,AACvB,SAAW,CACZ,AACD,sCACE,yBAA2B,CAC5B,AACD,sFACE,WAAY,AACZ,WAAa,CACd,AACD,6BACE,wBAA0B,CAC3B,AACD,4DACE,yBAA2B,CAC5B,AACD,+BACE,WAAa,CACd\",\"file\":\"Students.vue\",\"sourcesContent\":[\"\\n#students[data-v-cd2b2f14] {\\n  position: relative;\\n  height: 100vh;\\n}\\n#form-rate-review[data-v-cd2b2f14] {\\n  -webkit-transition: height 300ms 0ms cubic-bezier(0, 0, 0.2, 1);\\n  transition: height 300ms 0ms cubic-bezier(0, 0, 0.2, 1);\\n}\\n.empty[data-v-cd2b2f14] {\\n  text-align: center;\\n  position: absolute;\\n  top: 50%;\\n  -webkit-transform: translateY(-70%);\\n          transform: translateY(-70%);\\n  width: 100%;\\n}\\n.mdc-list-item[data-v-cd2b2f14] {\\n  padding: .5rem 1rem;\\n  background-color: #fff;\\n  z-index: 2;\\n}\\n.mdc-list-item__text[data-v-cd2b2f14] {\\n  text-transform: capitalize;\\n}\\n.mdc-list-item__graphic[data-v-cd2b2f14], .mdc-list-item__graphic img[data-v-cd2b2f14] {\\n  width: 40px;\\n  height: 40px;\\n}\\nspan.module[data-v-cd2b2f14] {\\n  text-transform: uppercase;\\n}\\nspan.branch[data-v-cd2b2f14], span.day-time[data-v-cd2b2f14] {\\n  text-transform: capitalize;\\n}\\nspan.day-time[data-v-cd2b2f14] {\\n  float: right;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/css-loader?{\"minimize\":true,\"sourceMap\":true}!./node_modules/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-cd2b2f14\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/sass-loader/lib/loader.js?{\"includePaths\":[\"/mnt/data/steep-eagle/web-main/node_modules\"],\"sourceMap\":true}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./src/pages/Students.vue\n// module id = 219\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mdc-typography\",attrs:{\"id\":\"students\"}},[_c('header1'),(!_vm.sessions)?_c('spinner'):_vm._e(),(!!_vm.sessions && !_vm.sessions.length)?_c('div',{staticClass:\"empty\"},[_c('img',{attrs:{\"src\":\"https://images.weserv.nl/?w=300&url=dl.dropboxusercontent.com/s/6wrsi1smelwdhj7/face-2.png\"}}),_vm._m(0)]):_vm._e(),_c('div',{staticClass:\"mdc-list-group\"},[_vm._l((_vm.sessions),function(v,i){return [_c('h3',{staticClass:\"mdc-list-group__subheader\"},[_c('span',{staticClass:\"module\"},[_vm._v(_vm._s(v._embedded.class._embedded.module.name))]),_vm._v(\" - \"),_c('span',{staticClass:\"branch\"},[_vm._v(_vm._s(v._embedded.class._embedded.branch.name))]),_vm._v(\"  \"),_c('span',{staticClass:\"day-time\"},[_vm._v(_vm._s(v._embedded.class.start_at)+\" - \"+_vm._s(v._embedded.class.finish_at))])]),_c('ul',{staticClass:\"mdc-list\"},[_vm._l((v._embedded.class._embedded.students),function(vv,ii){return [_c('li',{staticClass:\"mdc-list-item\",on:{\"click\":function($event){_vm.onClickList($event)}}},[_c('div',{staticClass:\"mdc-list-item__graphic\"},[_c('img',{attrs:{\"src\":vv.photo}})]),_c('span',{staticClass:\"mdc-list-item__text\"},[_vm._v(_vm._s(vv.name))])]),_c('hr',{staticClass:\"mdc-list-divider\"}),_c(_vm.currentView[(\"\" + (v.id))][(\"\" + (vv.user_id))],{tag:\"component\",attrs:{\"sid\":v.id,\"uid\":vv.user_id,\"name\":vv.name}})]})],2)]})],2),_c('tab-bottom')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"It’s holiday time, man! \"),_c('br'),_vm._v(\"Pls enjoy yout time by being away from your phone.\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cd2b2f14\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Students.vue\n// module id = 256\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cd2b2f14\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"includePaths\\\":[\\\"/mnt/data/steep-eagle/web-main/node_modules\\\"],\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Students.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Students.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Students.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cd2b2f14\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Students.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cd2b2f14\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Students.vue\n// module id = 45\n// module chunks = 1"],"sourceRoot":""}