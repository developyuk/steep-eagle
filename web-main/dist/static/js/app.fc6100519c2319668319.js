webpackJsonp([5],{162:function(t,s,e){"use strict";var a=e(6),i=e.n(a);s.a={name:"students",components:{"tab-bottom":function(){return e.e(0).then(e.bind(null,163))},header1:function(){return e.e(1).then(e.bind(null,164))},"form-rate-review":function(){return e.e(2).then(e.bind(null,237))},empty:function(){return e.e(3).then(e.bind(null,238))}},data:function(){return{msg:"Welcome to Your Vue.js PWA",students:[],sessions:[],currentAuth:null,currentView:{},lastId:""}},methods:{onClickList:function(t){var s=t.target.nextSibling.nextSibling;console.log("clicked",s);var e=s.getAttribute("sid"),a=s.getAttribute("uid"),i=s.getAttribute("id");if(console.log("clicked",e,a,i),"form-rate-review"===i){var n=this.lastId.split("-");this.$set(this.currentView[n[0]],n[1],"empty")}else this.$set(this.currentView[e],a,"form-rate-review"),this.lastId=e+"-"+a},getStudentsSessions:function(){var t=this;this.$bus.$on("currentAuth",function(s){var e="http://35.185.184.7:82/tutors/"+s.id+"/sessions";i.a.get(e).then(function(s){t.sessions=s.data._embedded;var e=[];t.sessions.forEach(function(t){t._embedded.class._embedded.students.forEach(function(s){e[t.id]||(e[t.id]=[]),e[t.id][s.users.id]="empty"})}),console.log(e),t.currentView=e}).catch(function(t){return console.log(t)})})}},mounted:function(){var t=this;this.getStudentsSessions(),this.$bus.$on("currentAuth",function(s){t.currentAuth=s})}}},165:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(23),i=e(168),n=e(172),r=e(6),c=e.n(r),o=e(233);e.n(o);a.a.config.productionTip=!1,e(234),window.mdc=o,n.a.beforeEach(function(t,s,e){localStorage.getItem("token")&&(c.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token")),c.a.get("http://35.185.184.7:82/auth").then(function(t){setTimeout(function(){return n.a.app.$bus.$emit("currentAuth",t.data)},792),e()}).catch(function(s){t.matched.some(function(t){return t.meta.requiresAuth})?e({path:"/sign",query:{redirect:t.path}}):e()})}),a.a.prototype.$bus=new a.a({}),new a.a({el:"#app",router:n.a,template:"<App/>",components:{App:i.a}})},168:function(t,s,e){"use strict";function a(t){e(169)}var i=e(25),n=e(171),r=e(5),c=a,o=r(i.a,n.a,!1,c,null,null);s.a=o.exports},169:function(t,s){},171:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mdc-layout-grid",attrs:{id:"app"}},[e("router-view")],1)},i=[],n={render:a,staticRenderFns:i};s.a=n},172:function(t,s,e){"use strict";var a=e(23),i=e(173),n=e(174),r=e(195),c=e(230);a.a.use(i.a),s.a=new i.a({routes:[{path:"/",name:"Schedules",component:r.a,meta:{requiresAuth:!0}},{path:"/students",name:"Students",component:c.a,meta:{requiresAuth:!0}},{path:"/sign",name:"Sign",component:n.a}]})},174:function(t,s,e){"use strict";function a(t){e(175)}var i=e(26),n=e(194),r=e(5),c=a,o=r(i.a,n.a,!1,c,"data-v-6907a474",null);s.a=o.exports},175:function(t,s){},194:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mdc-typography",attrs:{id:"sign"}},[e("form",{on:{submit:function(s){s.preventDefault(),t.sign(s)}}},[e("img",{staticClass:"logo",attrs:{src:"https://images.weserv.nl/?crop=110,100,87,105&url=dl.dropbox.com/s/psvta5uwq4s0m5y/logo2.jpg"}}),e("div",{staticClass:"mdc-form-field"},[e("div",{staticClass:"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon",attrs:{"data-mdc-auto-init":"MDCTextField"}},[e("i",{staticClass:"material-icons mdc-text-field__icon",attrs:{tabindex:"0"}},[t._v("account_circle")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.id,expression:"id",modifiers:{trim:!0}}],staticClass:"mdc-text-field__input",attrs:{id:"id",type:"text",required:"required"},domProps:{value:t.id},on:{input:function(s){s.target.composing||(t.id=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}),e("label",{staticClass:"mdc-text-field__label mdc-text-field__label--float-above",attrs:{for:"id"}},[t._v("Enter your email")]),e("div",{staticClass:"mdc-line-ripple"})])]),e("div",{staticClass:"mdc-form-field"},[e("div",{staticClass:"mdc-text-field mdc-text-field--box mdc-text-field--with-leading-icon",attrs:{"data-mdc-auto-init":"MDCTextField"}},[e("i",{staticClass:"material-icons mdc-text-field__icon",attrs:{tabindex:"1"}},[t._v("lock_outline")]),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.pwd,expression:"pwd",modifiers:{trim:!0}}],staticClass:"mdc-text-field__input",attrs:{id:"pwd",type:"password",required:"required"},domProps:{value:t.pwd},on:{input:function(s){s.target.composing||(t.pwd=s.target.value.trim())},blur:function(s){t.$forceUpdate()}}}),e("label",{staticClass:"mdc-text-field__label mdc-text-field__label--float-above",attrs:{for:"pwd"}},[t._v("Enter your password")]),e("div",{staticClass:"mdc-line-ripple"})])]),e("div",{staticClass:"mdc-form-field"},[t.errMsg?e("div",{staticClass:"errMsg"},[t._v(t._s(t.errMsg))]):t._e(),e("button",{staticClass:"mdc-button mdc-button--raised",attrs:{type:"submit","data-mdc-auto-init":"MDCRipple"}},[t._v("Sign in")])])])])},i=[],n={render:a,staticRenderFns:i};s.a=n},195:function(t,s,e){"use strict";function a(t){e(196)}var i=e(32),n=e(229),r=e(5),c=a,o=r(i.a,n.a,!1,c,"data-v-466aa7c7",null);s.a=o.exports},196:function(t,s){},228:function(t,s,e){function a(t){return e(i(t))}function i(t){var s=n[t];if(!(s+1))throw new Error("Cannot find module '"+t+"'.");return s}var n={"./af":43,"./af.js":43,"./ar":44,"./ar-dz":45,"./ar-dz.js":45,"./ar-kw":46,"./ar-kw.js":46,"./ar-ly":47,"./ar-ly.js":47,"./ar-ma":48,"./ar-ma.js":48,"./ar-sa":49,"./ar-sa.js":49,"./ar-tn":50,"./ar-tn.js":50,"./ar.js":44,"./az":51,"./az.js":51,"./be":52,"./be.js":52,"./bg":53,"./bg.js":53,"./bm":54,"./bm.js":54,"./bn":55,"./bn.js":55,"./bo":56,"./bo.js":56,"./br":57,"./br.js":57,"./bs":58,"./bs.js":58,"./ca":59,"./ca.js":59,"./cs":60,"./cs.js":60,"./cv":61,"./cv.js":61,"./cy":62,"./cy.js":62,"./da":63,"./da.js":63,"./de":64,"./de-at":65,"./de-at.js":65,"./de-ch":66,"./de-ch.js":66,"./de.js":64,"./dv":67,"./dv.js":67,"./el":68,"./el.js":68,"./en-au":69,"./en-au.js":69,"./en-ca":70,"./en-ca.js":70,"./en-gb":71,"./en-gb.js":71,"./en-ie":72,"./en-ie.js":72,"./en-nz":73,"./en-nz.js":73,"./eo":74,"./eo.js":74,"./es":75,"./es-do":76,"./es-do.js":76,"./es-us":77,"./es-us.js":77,"./es.js":75,"./et":78,"./et.js":78,"./eu":79,"./eu.js":79,"./fa":80,"./fa.js":80,"./fi":81,"./fi.js":81,"./fo":82,"./fo.js":82,"./fr":83,"./fr-ca":84,"./fr-ca.js":84,"./fr-ch":85,"./fr-ch.js":85,"./fr.js":83,"./fy":86,"./fy.js":86,"./gd":87,"./gd.js":87,"./gl":88,"./gl.js":88,"./gom-latn":89,"./gom-latn.js":89,"./gu":90,"./gu.js":90,"./he":91,"./he.js":91,"./hi":92,"./hi.js":92,"./hr":93,"./hr.js":93,"./hu":94,"./hu.js":94,"./hy-am":95,"./hy-am.js":95,"./id":96,"./id.js":96,"./is":97,"./is.js":97,"./it":98,"./it.js":98,"./ja":99,"./ja.js":99,"./jv":100,"./jv.js":100,"./ka":101,"./ka.js":101,"./kk":102,"./kk.js":102,"./km":103,"./km.js":103,"./kn":104,"./kn.js":104,"./ko":105,"./ko.js":105,"./ky":106,"./ky.js":106,"./lb":107,"./lb.js":107,"./lo":108,"./lo.js":108,"./lt":109,"./lt.js":109,"./lv":110,"./lv.js":110,"./me":111,"./me.js":111,"./mi":112,"./mi.js":112,"./mk":113,"./mk.js":113,"./ml":114,"./ml.js":114,"./mr":115,"./mr.js":115,"./ms":116,"./ms-my":117,"./ms-my.js":117,"./ms.js":116,"./mt":118,"./mt.js":118,"./my":119,"./my.js":119,"./nb":120,"./nb.js":120,"./ne":121,"./ne.js":121,"./nl":122,"./nl-be":123,"./nl-be.js":123,"./nl.js":122,"./nn":124,"./nn.js":124,"./pa-in":125,"./pa-in.js":125,"./pl":126,"./pl.js":126,"./pt":127,"./pt-br":128,"./pt-br.js":128,"./pt.js":127,"./ro":129,"./ro.js":129,"./ru":130,"./ru.js":130,"./sd":131,"./sd.js":131,"./se":132,"./se.js":132,"./si":133,"./si.js":133,"./sk":134,"./sk.js":134,"./sl":135,"./sl.js":135,"./sq":136,"./sq.js":136,"./sr":137,"./sr-cyrl":138,"./sr-cyrl.js":138,"./sr.js":137,"./ss":139,"./ss.js":139,"./sv":140,"./sv.js":140,"./sw":141,"./sw.js":141,"./ta":142,"./ta.js":142,"./te":143,"./te.js":143,"./tet":144,"./tet.js":144,"./th":145,"./th.js":145,"./tl-ph":146,"./tl-ph.js":146,"./tlh":147,"./tlh.js":147,"./tr":148,"./tr.js":148,"./tzl":149,"./tzl.js":149,"./tzm":150,"./tzm-latn":151,"./tzm-latn.js":151,"./tzm.js":150,"./uk":152,"./uk.js":152,"./ur":153,"./ur.js":153,"./uz":154,"./uz-latn":155,"./uz-latn.js":155,"./uz.js":154,"./vi":156,"./vi.js":156,"./x-pseudo":157,"./x-pseudo.js":157,"./yo":158,"./yo.js":158,"./zh-cn":159,"./zh-cn.js":159,"./zh-hk":160,"./zh-hk.js":160,"./zh-tw":161,"./zh-tw.js":161};a.keys=function(){return Object.keys(n)},a.resolve=i,t.exports=a,a.id=228},229:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mdc-typography",attrs:{id:"schedules"}},[e("header1"),e("div",{staticClass:"mdc-list-group"},[t._l(t.classes,function(s,a){return[e("h3",{staticClass:"mdc-list-group__subheader"},[e("span",{staticClass:"date-day"},[e("div",{staticClass:"date"},[t._v(t._s(s.date))]),e("div",{staticClass:"day"},[t._v(t._s(s.day))])]),e("span",{staticClass:"text"},[t._v(t._s(s.text))])]),e("ul",{staticClass:"mdc-list"},t._l(s.items,function(s,a){return e("li",{staticClass:"mdc-list-item"},[e("div",{staticClass:"mdc-list-item__graphic"},[e("img",{attrs:{src:s._embedded.module.image}})]),e("span",{staticClass:"mdc-list-item__text"},[t._v(t._s(s._embedded.module.name)),e("span",{staticClass:"mdc-list-item__secondary-text"},[t._v(t._s(s._embedded.branch.name))]),e("span",{staticClass:"mdc-list-item__secondary-text"},[t._v(t._s(s.start_at)+" - "+t._s(s.finish_at))])]),"start"===t.buttonStatus(s)?e("button",{staticClass:"mdc-button mdc-button--raised mdc-button--compact",attrs:{"data-mdc-auto-init":"MDCRipple"},on:{click:function(e){t.start(e,s.id,a)}}},[t._v("Start")]):t._e(),"disabled"===t.buttonStatus(s)?e("button",{staticClass:"mdc-button mdc-button--raised mdc-button--compact",attrs:{disabled:"disabled","data-mdc-auto-init":"MDCRipple"},on:{click:function(e){t.start(e,s.id,a)}}},[t._v("Start")]):t._e(),"late"===t.buttonStatus(s)?e("button",{staticClass:"mdc-button mdc-button--raised mdc-button--compact",attrs:{"data-mdc-auto-init":"MDCRipple"},on:{click:function(e){t.start(e,s.id,a)}}},[t._v("Activate")]):t._e(),"ongoing"===t.buttonStatus(s)?e("span",{staticClass:"ongoing"},[t._v("ongoing")]):t._e(),"late-ongoing"===t.buttonStatus(s)?e("span",{staticClass:"late-ongoing"},[t._v("activated")]):t._e()])}))]})],2),t._m(0),t._m(1),e("tab-bottom")],1)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("aside",{staticClass:"mdc-dialog",attrs:{id:"my-mdc-dialog",role:"alertdialog","aria-labelledby":"my-mdc-dialog-label","aria-describedby":"my-mdc-dialog-description"}},[e("div",{staticClass:"mdc-dialog__surface"},[e("header",{staticClass:"mdc-dialog__header"},[e("h2",{staticClass:"mdc-dialog__header__title",attrs:{id:"my-mdc-dialog-label"}},[t._v("Start this class?")])]),e("section",{staticClass:"mdc-dialog__body",attrs:{id:"my-mdc-dialog-description"}},[t._v("Class will be start when you click yes.")]),e("footer",{staticClass:"mdc-dialog__footer"},[e("button",{staticClass:"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--cancel",attrs:{type:"button"}},[t._v("No")]),e("button",{staticClass:"mdc-button mdc-dialog__footer__button mdc-dialog__footer__button--accept",attrs:{type:"button"}},[t._v("Yes")])])]),e("div",{staticClass:"mdc-dialog__backdrop"})])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mdc-snackbar",attrs:{"aria-live":"assertive","aria-atomic":"true","aria-hidden":"true"}},[e("div",{staticClass:"mdc-snackbar__text"}),e("div",{staticClass:"mdc-snackbar__action-wrapper"},[e("button",{staticClass:"mdc-snackbar__action-button",attrs:{type:"button"}})])])}],n={render:a,staticRenderFns:i};s.a=n},230:function(t,s,e){"use strict";function a(t){e(231)}var i=e(162),n=e(232),r=e(5),c=a,o=r(i.a,n.a,!1,c,"data-v-7d825c5a",null);s.a=o.exports},231:function(t,s){},232:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"mdc-typography",attrs:{id:"students"}},[e("header1"),e("div",{staticClass:"mdc-list-group"},[t._l(t.sessions,function(s,a){return[e("h3",{staticClass:"mdc-list-group__subheader"},[e("span",{staticClass:"module"},[t._v(t._s(s._embedded.class._embedded.module.name))]),t._v(" - "),e("span",{staticClass:"branch"},[t._v(t._s(s._embedded.class._embedded.branch.name))]),t._v("  "),e("span",{staticClass:"day-time"},[t._v(t._s(s._embedded.class.start_at)+" - "+t._s(s._embedded.class.finish_at))])]),e("ul",{staticClass:"mdc-list"},[t._l(s._embedded.class._embedded.students,function(a,i){return[e("li",{staticClass:"mdc-list-item",on:{click:function(s){t.onClickList(s)}}},[e("div",{staticClass:"mdc-list-item__graphic"},[e("img",{attrs:{src:a.photo}})]),e("span",{staticClass:"mdc-list-item__text"},[t._v(t._s(a.name))])]),e("hr",{staticClass:"mdc-list-divider"}),e(t.currentView[""+s.id][""+a.users.id],{tag:"component",attrs:{sid:s.id,uid:a.users.id,name:a.name}})]})],2)]})],2),e("tab-bottom")],1)},i=[],n={render:a,staticRenderFns:i};s.a=n},234:function(t,s){},25:function(t,s,e){"use strict";s.a={name:"app",mounted:function(){window.mdc.autoInit()}}},26:function(t,s,e){"use strict";var a=e(6),i=e.n(a);s.a={name:"sign",data:function(){return{msg:"Welcome to Your Vue.js PWA",id:"user3@ex.com",pwd:"asdqwes",errMsg:""}},mounted:function(){mdc.ripple.MDCRipple.attachTo(document.querySelector(".mdc-button"))},methods:{sign:function(){var t=this,s={email:this.id,pwd:this.pwd};i.a.post("http://35.185.184.7:82/sign",s).then(function(s){localStorage.setItem("token",s.data.token),t.$router.push(t.$route.query.redirect)}).catch(function(s){console.log(s);var e=s.response,a=e.status,i=e.data;401===a?t.errMsg=i.message+". Re-check your authentication.":console.log(s)})}}}},32:function(t,s,e){"use strict";var a=e(197),i=e.n(a),n=e(223),r=e.n(n),c=e(0),o=e.n(c),d=e(6),l=e.n(d);s.a={name:"schedules",components:{"tab-bottom":function(){return e.e(0).then(e.bind(null,163))},header1:function(){return e.e(1).then(e.bind(null,164))}},data:function(){return{msg:"Welcome to Your Vue.js PWA",classes:[],dialog:null,snackbar:null,thisClass:{id:0},currentAuth:null}},methods:{comingSoon:function(t){t.target.innerText="coming soon"},buttonStatus:function(t){var s=o()(t.start_at_ts),e=o()(t.finish_at_ts),a=t._embedded;a=a.last_session?a.last_session.created_at:a.last_session;var i=o()();if(a&&0===i.diff(e,"days")){var n=o()(a);if(i.isAfter(n)&&n.isBefore(e))return"ongoing";if(i.isAfter(n)&&n.isAfter(e))return"late-ongoing"}return i.isAfter(e)?"late":s.diff(i,"minutes")<5&&e.diff(i,"minutes")>0?"start":"disabled"},activate:function(t){var s=this,e="http://35.185.184.7:82/classes/"+t+"/sessions";l.a.post(e,{id:this.currentAuth.id}).then(function(t){s.getSchedules()}).catch(function(t){return console.log(t)})},start:function(t,s,e){this.thisClass=this.classes[e],this.dialog.lastFocusedTarget=t.target,this.dialog.show()},getSchedules:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];l.a.get("http://35.185.184.7:82/classes?sort=start_at_ts.asc").then(function(s){var e=s.data._embedded;e.forEach(function(s,e,a){var i=s._embedded.module.image.replace("https://","").replace("http://","");i="//images.weserv.nl/?output=jpg&il&q=100&w=96&h=96&t=square&url="+i,t.$set(a[e]._embedded.module,"image",i)});var a={};e.forEach(function(t){var s=o()(t.start_at_ts),e=s.dayOfYear();if(!a[e]){var i=s.fromNow();i="in a day"===i?"tomorrow":i,a[e]={date:s.date(),day:s.format("dddd"),text:i,items:[]}}a[e].items.push(t)}),a=r()(a).map(function(t){return a[t]}),a[0].text="today",t.classes=a}).catch(function(t){return console.log(t)})}},mounted:function(){var t=this,s=this;i()(document.querySelectorAll(".mdc-tab, .mdc-button")).forEach(function(t){return mdc.ripple.MDCRipple.attachTo(t)}),this.dialog=mdc.dialog.MDCDialog.attachTo(document.querySelector("#my-mdc-dialog")),this.snackbar=mdc.snackbar.MDCSnackbar.attachTo(document.querySelector(".mdc-snackbar")),this.dialog.listen("MDCDialog:accept",function(){s.activate(s.thisClass.id);var t={message:"Class "+s.thisClass.id+" has been started"};s.snackbar.show(t)}),this.getSchedules(),this.$bus.$on("currentAuth",function(s){t.currentAuth=s})}}}},[165]);
//# sourceMappingURL=app.fc6100519c2319668319.js.map